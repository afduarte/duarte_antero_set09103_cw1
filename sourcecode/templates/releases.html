{% extends 'base.html' %}
{% from "macros.html" import letter %}
{% block title %}Browse Releases{% endblock %}
{% block content %}
  <div id="release-page" class="main-content">
    <div id="letters">
      <ul>
        {% for l,_ in alphabet %}
          {{ letter(l) }}
        {% endfor %}
      </ul>
    </div>
    <div id="releases">
      {% for release in releases %}
        <a href="{{ url_for("releases",id=release['id']) }}">
          <div class="release-container">
            {% if release %}
              {% set front, _ = release['cover'] %}
              {% if front %}
                <div class="cover blurloader">
                  <img src="{{ front }}"/>
                </div>
              {% else %}
                <div class="cover blurloader">
                  <img src="{{ url_for("static",filename="img/missing_cover.png") }}"/>
                </div>
              {% endif %}
            {% else %}
              <div class="cover blurloader">
                <img src="{{ url_for("static",filename="img/missing_cover.png") }}"/>
              </div>
            {% endif %}
            <h3>{{ release['name'] }}</h3>
          </div>
        </a>
      {% endfor %}
    </div>
  </div>
{% endblock %}

{% block extra_style %}
  <style>


    #letters {
      margin: 0 25%;
    }

    #letters ul {
      display: flex;
      flex-direction: row;
      justify-content: space-around;
    }

    #releases {
      margin: 0 20%;
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
      grid-gap: 3em;
    }

    #releases a {
      text-decoration: none;
    }

    .release-container {
      width: 100%;
      text-align: center;
    }

    .release-container .cover img {
      box-shadow: 5px 5px 20px 10px #323544;
      width: 70%;
      height: 70%;
      transition: box-shadow 200ms ease-in-out;
    }

    .release-container:hover .cover img {
      box-shadow: 5px 5px 10px 5px rgba(255, 115, 19, 0.23);
    }

    .release-container .cover.rotate {
      min-height: 250px;
      box-shadow: none;
    }
  </style>
{% endblock %}